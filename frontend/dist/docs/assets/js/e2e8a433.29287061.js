"use strict";(globalThis.webpackChunkmantle_estate_docs=globalThis.webpackChunkmantle_estate_docs||[]).push([[708],{5018(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"protocol/funding-rate","title":"Funding Rate","description":"Funding Rate is a mechanism that balances long and short positions in the market, ensuring equilibrium between buyers and sellers.","source":"@site/docs/protocol/funding-rate.md","sourceDirName":"protocol","slug":"/protocol/funding-rate","permalink":"/docs/protocol/funding-rate","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Prices","permalink":"/docs/protocol/prices"},"next":{"title":"Trading","permalink":"/docs/protocol/trading"}}');var l=i(4848),r=i(8453);const a={},t="Funding Rate",o={},d=[{value:"What is Funding Rate?",id:"what-is-funding-rate",level:2},{value:"Why Funding Rate?",id:"why-funding-rate",level:2},{value:"How is Funding Rate Calculated?",id:"how-is-funding-rate-calculated",level:2},{value:"1. Skew (Position Imbalance)",id:"1-skew-position-imbalance",level:3},{value:"2. Normalizing Skew",id:"2-normalizing-skew",level:3},{value:"3. Rate Change",id:"3-rate-change",level:3},{value:"4. New Rate",id:"4-new-rate",level:3},{value:"5. Decay",id:"5-decay",level:3},{value:"Special Cases",id:"special-cases",level:2},{value:"No Open Positions",id:"no-open-positions",level:3},{value:"Balanced Market",id:"balanced-market",level:3},{value:"Examples",id:"examples",level:2},{value:"Example 1: More Long Positions",id:"example-1-more-long-positions",level:3},{value:"Example 2: More Short Positions",id:"example-2-more-short-positions",level:3},{value:"Example 3: Balanced Market",id:"example-3-balanced-market",level:3},{value:"How is Funding Paid?",id:"how-is-funding-paid",level:2},{value:"Payment Direction",id:"payment-direction",level:3},{value:"Update Frequency",id:"update-frequency",level:2},{value:"Important Notes",id:"important-notes",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"funding-rate",children:"Funding Rate"})}),"\n",(0,l.jsx)(n.p,{children:"Funding Rate is a mechanism that balances long and short positions in the market, ensuring equilibrium between buyers and sellers."}),"\n",(0,l.jsx)(n.h2,{id:"what-is-funding-rate",children:"What is Funding Rate?"}),"\n",(0,l.jsx)(n.p,{children:"Funding Rate is a rate that is charged or paid between market participants depending on position imbalance:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Positive rate"})," \u2192 Long positions pay Short positions"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Negative rate"})," \u2192 Short positions pay Long positions"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"why-funding-rate",children:"Why Funding Rate?"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Market Balancing"}),": The rate incentivizes participants to open positions in the direction of the minority"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Risk Compensation"}),": The side with fewer positions receives compensation for risk"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Synchronization"}),": Index price approaches market price"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"how-is-funding-rate-calculated",children:"How is Funding Rate Calculated?"}),"\n",(0,l.jsx)(n.p,{children:"Funding Rate is updated daily and calculated based on:"}),"\n",(0,l.jsx)(n.h3,{id:"1-skew-position-imbalance",children:"1. Skew (Position Imbalance)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"skew = totalLongValue - totalShortValue\n"})}),"\n",(0,l.jsx)(n.p,{children:"where:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"totalLongValue"})," \u2014 total value of all open long positions"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"totalShortValue"})," \u2014 total value of all open short positions"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"2-normalizing-skew",children:"2. Normalizing Skew"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"normalizedSkew = max(-1, min(1, skew / SKEW_SCALE))\n"})}),"\n",(0,l.jsxs)(n.p,{children:["where ",(0,l.jsx)(n.code,{children:"SKEW_SCALE = 10,000,000 USD"})," \u2014 scaling coefficient for smooth changes"]}),"\n",(0,l.jsx)(n.h3,{id:"3-rate-change",children:"3. Rate Change"}),"\n",(0,l.jsx)(n.p,{children:"The rate changes proportionally to imbalance and time:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"deltaRate = normalizedSkew \xd7 MAX_FUNDING_VELOCITY \xd7 daysElapsed\n"})}),"\n",(0,l.jsx)(n.p,{children:"where:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"MAX_FUNDING_VELOCITY = 0.01"})," (1% per day) \u2014 maximum rate change velocity"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"daysElapsed"})," \u2014 number of days since last update"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"4-new-rate",children:"4. New Rate"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"newRate = currentRate + deltaRate\n"})}),"\n",(0,l.jsx)(n.h3,{id:"5-decay",children:"5. Decay"}),"\n",(0,l.jsxs)(n.p,{children:["If positions are balanced (",(0,l.jsx)(n.code,{children:"|normalizedSkew| < 0.0001"}),"), the rate decays toward zero:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"decayRate = |currentRate| > 0.0001 ? 0.5 : 0.1\r\ndecayFactor = decayRate ^ daysElapsed\r\nnewRate = newRate \xd7 decayFactor\n"})}),"\n",(0,l.jsx)(n.h2,{id:"special-cases",children:"Special Cases"}),"\n",(0,l.jsx)(n.h3,{id:"no-open-positions",children:"No Open Positions"}),"\n",(0,l.jsxs)(n.p,{children:["If ",(0,l.jsx)(n.code,{children:"totalOI = 0"})," (no open positions), then ",(0,l.jsx)(n.code,{children:"fundingRate = 0"})]}),"\n",(0,l.jsx)(n.h3,{id:"balanced-market",children:"Balanced Market"}),"\n",(0,l.jsx)(n.p,{children:"If long and short positions are approximately equal, the rate decays toward zero"}),"\n",(0,l.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,l.jsx)(n.h3,{id:"example-1-more-long-positions",children:"Example 1: More Long Positions"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Long positions: $15,000,000"}),"\n",(0,l.jsx)(n.li,{children:"Short positions: $5,000,000"}),"\n",(0,l.jsx)(n.li,{children:"Skew: $10,000,000"}),"\n",(0,l.jsx)(n.li,{children:"Normalized Skew: 1.0 (maximum)"}),"\n",(0,l.jsx)(n.li,{children:"Rate change: +1% per day"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Result"}),": Longs pay Shorts"]}),"\n",(0,l.jsx)(n.h3,{id:"example-2-more-short-positions",children:"Example 2: More Short Positions"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Long positions: $5,000,000"}),"\n",(0,l.jsx)(n.li,{children:"Short positions: $15,000,000"}),"\n",(0,l.jsx)(n.li,{children:"Skew: -$10,000,000"}),"\n",(0,l.jsx)(n.li,{children:"Normalized Skew: -1.0 (minimum)"}),"\n",(0,l.jsx)(n.li,{children:"Rate change: -1% per day"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Result"}),": Shorts pay Longs"]}),"\n",(0,l.jsx)(n.h3,{id:"example-3-balanced-market",children:"Example 3: Balanced Market"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Long positions: $10,000,000"}),"\n",(0,l.jsx)(n.li,{children:"Short positions: $10,000,000"}),"\n",(0,l.jsx)(n.li,{children:"Skew: $0"}),"\n",(0,l.jsx)(n.li,{children:"Normalized Skew: 0"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Result"}),": Rate decays toward zero"]}),"\n",(0,l.jsx)(n.h2,{id:"how-is-funding-paid",children:"How is Funding Paid?"}),"\n",(0,l.jsx)(n.p,{children:"Funding fee is calculated as follows:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Funding Fee = Position Size \xd7 Funding Rate \xd7 Days Held\n"})}),"\n",(0,l.jsx)(n.p,{children:"where:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Position Size"})," = ",(0,l.jsx)(n.code,{children:"quantity_sqm \xd7 current_price"})," (position size in USD)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Funding Rate"})," \u2014 current funding rate"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Days Held"})," \u2014 number of days the position was open"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"payment-direction",children:"Payment Direction"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Long position"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["If ",(0,l.jsx)(n.code,{children:"fundingRate > 0"})," \u2192 pays (negative fee)"]}),"\n",(0,l.jsxs)(n.li,{children:["If ",(0,l.jsx)(n.code,{children:"fundingRate < 0"})," \u2192 receives (positive fee)"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Short position"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["If ",(0,l.jsx)(n.code,{children:"fundingRate > 0"})," \u2192 receives (positive fee)"]}),"\n",(0,l.jsxs)(n.li,{children:["If ",(0,l.jsx)(n.code,{children:"fundingRate < 0"})," \u2192 pays (negative fee)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"update-frequency",children:"Update Frequency"}),"\n",(0,l.jsx)(n.p,{children:"Funding Rate is updated:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Daily"})," during price updates"]}),"\n",(0,l.jsx)(n.li,{children:"On each position open/close (recalculation based on new metrics)"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"important-notes",children:"Important Notes"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Maximum change velocity"}),": 1% per day (to prevent sharp spikes)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Smoothness"}),": Large ",(0,l.jsx)(n.code,{children:"SKEW_SCALE"})," ensures smooth rate changes"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Automatic balancing"}),": Mechanism automatically incentivizes market balance"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},8453(e,n,i){i.d(n,{R:()=>a,x:()=>t});var s=i(6540);const l={},r=s.createContext(l);function a(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);