# Frontend Development Rules (React/TypeScript)

## General Principles

- All frontend files are located in the `frontend/` directory
- Framework: React 19+ with TypeScript
- Build tool: Vite
- UI library: shadcn/ui + Tailwind CSS 4
- Package manager: Bun

## Component Structure

- Components are located in `frontend/components/`
- UI components (shadcn) are located in `frontend/components/ui/`
- Pages are located in `frontend/pages/`
- Utilities and hooks are located in `frontend/lib/`
- Types should be explicitly defined or imported from backend client

## Styling

- Use Tailwind CSS for styling
- Use components from `frontend/components/ui/` (shadcn/ui)
- Follow the project's design system (dark mode is supported)
- Use classes for dark theme: `dark:`
- Use CSS variables for theme colors

## Backend API Integration

- Use the `useBackend()` hook from `frontend/lib/useBackend.ts` to access the API
- Import types from `~backend/...` (auto-generated by Encore)
- Always handle errors in API calls
- Use loading states

## Component State

- Use `useState` for local state
- Use `useEffect` for side effects
- For global state, consider Context API if necessary
- Optimize re-renders with `useMemo` and `useCallback` where needed

## UI Components (shadcn/ui)

- Use ready-made components from `frontend/components/ui/`
- All components are already configured and ready to use
- If you need a new component, add it via shadcn CLI:
  ```bash
  npx shadcn@latest add [component-name]
  ```

## Routing

- Use React Router for navigation
- Router configuration is in `frontend/App.tsx`
- Use `useLocation` and `useNavigate` for routing operations

## Authentication

- Use Clerk via `@clerk/clerk-react`
- Use `useUser()` and `useClerk()` hooks for user operations
- Check authorization before displaying protected components

## Formatting and Validation

- Format currency and numbers using `.toFixed()` or formatting library
- Validate user input on the client side
- Show clear error messages to users

## Performance

- Use React.memo for heavy components
- Lazy load components using `lazy()` and `Suspense` where necessary
- Optimize images (use webp format, lazy loading)

## Accessibility

- Use semantic HTML
- Add `aria-label` for icons and buttons without text
- Ensure keyboard navigation
- Use proper ARIA attributes

## TypeScript Typing

- Always use TypeScript types
- Don't use `any` - use `unknown` if the type is unknown
- Use types from backend client (`~backend/...`)
- Define interfaces for component props

